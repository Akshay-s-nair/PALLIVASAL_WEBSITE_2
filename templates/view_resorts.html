<!DOCTYPE html>
<html lang="en">
  <head>
    {% include 'bg.html' %}
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static',filename='CSS/homestay/main.css') }}"
    />
    <title>Pallivasal</title>
    <link
      rel="icon"
      href="{{url_for('static',filename='images/logo.webp')}}"
      type="image/icon type"
    />
  </head>
  <body >
    <div class="navv">
      <nav class="navbar">
        <!-- Navbar logo -->
        <div class="nav-header">
          <div class="nav-logo">
            <a href="#">
              <img
                id="logo"
                src="{{url_for('static',filename='images/logo.webp')}}"
                width="90px"
                alt="logo"
              />
            </a>
          </div>
        </div>
  
        <!-- responsive navbar toggle button -->
      </nav>
    </div>
    <div class="view-container">
      {% for item2 in info %}
      {% set fname = 'uploads/' + item2.img1 %}  
      <div class="slider" style="height: 100%;">
        {% if item2.img1 is not none %}
        {% set fname1 = 'uploads/' + item2.img1 %}  
        <img src="{{ url_for('static',filename=fname1) }}" alt="Place 1">	
        {% endif %}
        {% if item2.img2 is not none %}
        {% set fname2 = 'uploads/' + item2.img2 %}  
        <img src="{{ url_for('static',filename=fname2) }}" alt="Place 2">	
        {% endif %}
        {% if item2.img3 is not none %}
        {% set fname3 = 'uploads/' + item2.img3 %}  
        <img src="{{ url_for('static',filename=fname3) }}" alt="Place 3">
        {% endif %}
        {% if item2.img4 is not none %}
        {% set fname4 = 'uploads/' + item2.img4 %}  
        <img src="{{ url_for('static',filename=fname4) }}" alt="Place 4">	
        {% endif %}
        {% if item2.img5 is not none %}
        {% set fname5 = 'uploads/' + item2.img5 %}  
        <img src="{{ url_for('static',filename=fname5) }}" alt="Place 5">	
        {% endif %}
      </div>
        <div class="box">
        <h5>Resort name : {{ item2.name }}</h5>
        <h5>Addresss : {{ item2.name }}</h5>
        {% for item1 in list %}
        <h5>Contact number 1 : {{ item1.contact }}</h5>
        {% endfor %}
        <h5>Contact number 2 : {{ item2.contact }}</h5>
        <h5>Property description : {{ item2.description }}</h5>
        <h5>Facilities : {{ item2.facilities }}</h5>
        <h5>Number of rooms : {{ item2.rooms }}</h5>
        <h5>Services : {{ item2.services }}</h5>
        {% endfor %}
      </div>
    </div>      
    </div>

    
  </body>
  <script>// Get all the sliders on the page
		var sliders = document.querySelectorAll('.slider');

sliders.forEach(function (slider) {
  var images = slider.querySelectorAll('img');
  var currentImageIndex = 0;

  // Hide all images except the first one
  for (var i = 1; i < images.length; i++) {
    images[i].style.display = 'none';
  }

  var intervalId = null; // Start with intervalId set to null

  function startSlider() {
    intervalId = setInterval(function () {

      // Hide the current image
      images[currentImageIndex].style.display = 'none';

      // Increment the current image index
      currentImageIndex++;

      // If we've reached the end of the images, start over at the beginning
      if (currentImageIndex >= images.length) {
        currentImageIndex = 0;
      }

      // Show the next image
      images[currentImageIndex].style.display = 'block';

    }, 2000);
  }

  // Pause the slider on hover
  slider.addEventListener('mouseover', function () {
    if (intervalId) {
      clearInterval(intervalId);
    }
  });

  // Resume or restart the slider on mouseout or click
  slider.addEventListener('mouseout', function () {
  if (!intervalId) { // Only start if currently paused
    startSlider();
  }
});


  slider.addEventListener('click', function (event) {
  event.stopPropagation(); // Prevent click from bubbling up
  if (intervalId) {
    clearInterval(intervalId);
  } else {
    startSlider();
  }
});


  // Start the slider initially
  startSlider();
});
</script>
</html>
